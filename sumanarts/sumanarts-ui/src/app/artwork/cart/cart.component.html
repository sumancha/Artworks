
<div class="container">
<div>
    <h4 class="text-2xl font-bold mb-4">Shopping Cart ({{ cartItemCount$ | async }} items)</h4>

        <button pButton type="button" *ngIf="(cartItemCount$ | async) > 0"  label="Clear Cart" class="p-button-danger mb-4" (click)="clearCart()"></button>

     <div *ngFor="let item of cartItems$ | async" class="mb-2 p-1 border border-surface-200 dark:border-surface-700 rounded-lg">
        <div class="flex flex-col sm:flex-row sm:items-center gap-4">
            <!-- <div class="md:w-40 relative">
                <img 
                    class="block  xl:block mx-auto rounded-border   myimagesize"
                    [src]="imageBaseUrl + item.fileName"
                    [alt]="item.fileName"
                    style="max-width: 200px; max-height: 200px;"
                />
            </div> -->
            <div class="flex flex-col md:flex-row justify-between md:items-center flex-1 gap-6">
                <div class="flex flex-row md:flex-col justify-between items-start gap-2" style="width: 70%">
                    <div>
                        <strong > Title : {{ item.title }} | </strong> <span class="font-semibold medium-color">{{item.medium.mediumType}}</span>
                      <p> Details: <span class="font-medium text-surface-500 dark:text-surface-400 text-md detail-text">{{ item.artDetails}}</span></p>
                    
                    </div>
                </div>
                <div class="flex flex-col md:items-end gap-8 ">
                    <span class="text-xl font-semibold">{{ '$' + item.price }}</span>
                    <div class="flex flex-row-reverse md:flex-row gap-2">
                        <p-button icon="pi pi-trash" [outlined]="true" (click)="removeItem(item.id)" />
                    </div>
                </div>
            </div>
        </div>
    </div>
    <h5 class="text-xl font-semibold mb-4">Total Price: {{ cartTotalPrice$ | async | currency }}</h5>

    <ng-container *ngIf="cartItems$ | async as cartItems">
        <button pButton type="submit" *ngIf="(cartItemCount$ | async) > 0" class="p-button-primary" (click)="onPurchase(cartItems)">Purchase</button>
    </ng-container>
</div>
